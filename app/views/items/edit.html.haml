= form_with model: @item do |f|
  .post__new__wrapper
    - @item.errors.full_messages.each do |message|
      .form-error
        = message
        
    #image-box
      #previews
        - if @item.persisted?
          - @item.images.each_with_index do |image, i|
            = image_tag image.url.url, data: { index: i }, width: "100", height: "100" 
      = f.fields_for :images do |image|
        .js-file_group{"data-index" => "#{image.index}"}
          = image.file_field :url, class: 'js-file'
          %span.js-remove 削除
        - if @item.persisted?
          = image.check_box :_destroy, data:{ index: image.index }, class: 'hidden-destroy'
      - if @item.persisted?
        .js-file_group{"data-index" => "#{@item.images.count}"}
          = file_field_tag :url, name: "item[images_attributes][#{@item.images.count}][url]", class: 'js-file'
          %span.js-remove 削除

    = f.hidden_field :trading_status, value: "販売中"
    商品名
    = f.text_field :name, placeholder: "40字まで"
    説明
    = f.text_area :introduction, placeholder: "商品の説明(必須1,000文字以内)"
    カテゴリー
    = f.collection_select :category_id, Category.all, :id, :name,{prompt: "選択してください"}
    ブランド
    = f.text_field :brand, placeholder: "例) シャネル"
    コンディション
    = f.collection_select :item_condition_id, ItemCondition.all, :id, :name, {prompt: "選択してください"}
    発送負担
    = f.collection_select :postage_payer_id, PostagePayer.all, :id, :name, {prompt: "選択してください"}
    発送元
    = f.collection_select :shipping_prefecture_id, ShippingPrefecture.all, :id, :name, {prompt: "選択してください"}
    発送日
    = f.collection_select :shipping_day_id, ShippingDay.all, :id, :name, {prompt: "選択してください"}
    値段
    = f.text_field :price, placeholder: "0"
    
    = f.submit "出品する"
